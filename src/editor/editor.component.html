<div id="diagram-space" class="sb-mobile-diagram">
  <div class="content-wrapper">
    <input id="openKEML" type="file" class="file-upload" style="display: none" (change)="loadKeml($event)">
    <input id="openDia" type="file" class="file-upload" style="display: none" (change)="loadDiagramJSON($event)">
    <ejs-toolbar>
      <e-items>
        <e-item prefixIcon='e-icons e-circle-add' text="New" tooltipText='New Diagram' (click)="newDiagram()"></e-item>
        <e-item prefixIcon='e-icons e-folder-open' text="Open" tooltipText='Open Diagram' (click)="openDiagramJson()">
        </e-item>
        <e-item prefixIcon='e-icons e-save' text="Save" tooltipText='Save Diagram' (click)="saveDiagramJSON()"></e-item>
        <e-item prefixIcon='e-icons e-save' text="SVG" tooltipText='SVG Export' (click)="saveImg()"></e-item>
        <e-item type='Separator'></e-item>
        <e-item prefixIcon='e-icons e-folder-open' text="Open KEML" tooltipText='Open KEML' (click)="openKeml()"></e-item>
        <e-item prefixIcon='e-icons e-save' text="Save KEML" tooltipText='Save KEML' (click)="saveKeml()"></e-item>
      </e-items>
    </ejs-toolbar>
    <ejs-diagram #diagram id="diagram" width="100%" height="580px">
    </ejs-diagram>
  </div>
  <div>
    <mat-toolbar>
      <button (click)="newConversation()">New</button>
      <button (click)="openKeml()">Open KEML</button>
      <button (click)="saveKeml()">Save KEML</button>
      <button (click)="saveImgFromCanvas()">Save png</button>
    </mat-toolbar>
    <svg #svg style="border: 1px solid black;" width="1000" height="1450" viewBox="[-500 -50 500 1400]">
      <g transform="translate(500, 50)">
        <circle r="2.0px" fill="red" x="0" y="0"></circle>
        <foreignObject height="50" width="200" x="-100" y="-50">
          <input id="title" type="text" [(ngModel)]="conversation.title" >
        </foreignObject>
      </g>

      <g transform="translate(500, 0)">
        <g transform="translate(-47.7,0)">
          <a id="svg1.a3142">
            <path transform="translate(11.586889,5.2908993)" style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="svg1.path2160" d="M 47.02914 47.36993 A 8.5197716 9.2013531 0 1 1  29.989597,47.36993 A 8.5197716 9.2013531 0 1 1  47.02914 47.36993 z" />
          </a>
          <path style="fill:none" d="M 47.71072 48.392303 A 3.7486994 0 0 1 1  40.213321,48.392303 A 3.7486994 0 0 1 1  47.71072 48.392303 z" id="svg1.path3134"/>
          <path style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1.24319649px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="M 50,61.33709 C 50,91.363211 50,92.247838 50,92.247838" id="svg1.path3136"/>
          <path style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="M 69.760668,72.362183 C 69.760668,72.362183 69.760668,72.362183 50.239332,72.362183 C 30.239332,72.362183 30.239332,72.362183 30.239332,72.362183 L 30.239332,72.362183" id="svg1.path3138"/>
          <path style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="M 30,111.45687 C 30,111.45687 30,111.45687 50,92.013532 C 70,111.45687 70,111.45687 70,111.45687" id="svg1.path3140"/>
          <text x="20" y="140">Author</text>
        </g>
      </g>

    </svg>
    <svg>
      <g cp></g>
      <rect x="0" y="0" width="100" height="100" [attr.fill]="fillColor" (click)="changeColor()" />
      <text x="120" y="50">click the rectangle to change the fill color</text>
      <g cp></g>
      <conversation-partner></conversation-partner>
    </svg>
    <conversation-partner></conversation-partner>
    <conversation-partner></conversation-partner>
  </div>
</div>
